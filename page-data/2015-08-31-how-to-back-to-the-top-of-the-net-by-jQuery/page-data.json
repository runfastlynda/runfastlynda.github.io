{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015-08-31-how-to-back-to-the-top-of-the-net-by-jQuery/","result":{"data":{"site":{"siteMetadata":{"title":"runfastlynda"}},"markdownRemark":{"id":"de1ccfe0-6a13-553f-9bf9-f5c62f271ff8","excerpt":"实现一个简单的回到顶部的效果实质是在一个图片（或文字）添加click事件，\n点击图片回到页面的开始。如果它可以逐渐出现，逐渐消失，动态的显示就更好了，那么现在开始！ HTML代码 有了上面的html后，当我们点击有箭头的这个图片时，就会自动跳转到页面的顶部。 CSS代码 默认情况下我们给包含跳转链接的div…","html":"<p>实现一个简单的回到顶部的效果实质是在一个图片（或文字）添加click事件，\n点击图片回到页面的开始。如果它可以逐渐出现，逐渐消失，动态的显示就更好了，那么现在开始！</p>\n<h3>HTML代码</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token style-attr language-css\"><span class=\"token attr-name\"> <span class=\"token attr-name\">style</span></span><span class=\"token punctuation\">=\"</span><span class=\"token attr-value\"><span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 3000px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>go-top dn<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>go-top<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    \t    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>javascript:;<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>go<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>backtotop.png<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n    \t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>有了上面的html后，当我们点击有箭头的这个图片时，就会自动跳转到页面的顶部。</p>\n<h3>CSS代码</h3>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">    <span class=\"token selector\">.dn</span> <span class=\"token punctuation\">{</span>\n    \t<span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.go-top</span> <span class=\"token punctuation\">{</span>\n    \t<span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n    \t<span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n    \t<span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n    \t<span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 46px<span class=\"token punctuation\">;</span>\n    \t<span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 999<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>默认情况下我们给包含跳转链接的div设置为隐藏，通过position：fixed的属性实现侧边屏幕绝对定位。</p>\n<h3>javascript代码</h3>\n<p>开始时跳转链接是隐藏的，所以使用jQuery要实现的效果是：浏览器滚动条处于最顶部的时候，跳转链接处于隐藏状态。当滚动条向下滚动后，跳转链接逐渐显出，当点击跳转链接后，页面逐渐滚动至顶部，跳转链接逐渐消失。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">      <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'scroll'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t\t<span class=\"token keyword\">var</span> st <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">scrollTop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token comment\">//当滚动条的位置处于距顶部300像素以下时，跳转链接出现，否则消失</span>\n      \t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span> st<span class=\"token operator\">></span><span class=\"token number\">300</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t\t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#go-top'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fadeIn</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t\t\t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">removeClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dn'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n      \t\t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#go-top'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fadeOut</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t\t\t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dn'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \t\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \t\t<span class=\"token punctuation\">}</span>\n      \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//当点击跳转链接后，滚动条跳到0的位置，也就是页面顶部，页面移动速度是500。</span>\n      \t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#go-top .go'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      \t\t<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html,body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'scrollTop'</span><span class=\"token operator\">:</span><span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      \t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"http://codepen.io/runfastlynda/pen/rONMrj\">在线codepen演示地址</a></p>","frontmatter":{"title":"简单实现回到顶部的效果","date":"August 31, 2015"}}},"pageContext":{"slug":"/2015-08-31-how-to-back-to-the-top-of-the-net-by-jQuery/","previous":{"fields":{"slug":"/2015-08-28-css-responsive-navigation-menu/"},"frontmatter":{"title":"用CSS设计响应式导航菜单","tags":["CSS"]}},"next":{"fields":{"slug":"/2015-09-14-css-tricks-fixed-background/"},"frontmatter":{"title":"CSS技巧之固定背景","tags":["CSS"]}}}}}