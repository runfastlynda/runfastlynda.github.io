{"componentChunkName":"component---src-templates-blog-post-js","path":"/2015-11-20-learn-react-3/","result":{"data":{"site":{"siteMetadata":{"title":"runfastlyndağŸ‘€"}},"markdownRemark":{"id":"a60a8854-c714-5aef-b080-ef2716ef3498","excerpt":"DOMæ“ä½œ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†å®ç°æŸäº›éœ€æ±‚å°±ä¸å¾—ä¸å»æ“ä½œåº•å±‚DOMï¼Œæœ€å¸¸è§çš„åœºæ™¯åŒ…æ‹¬ï¼šéœ€è¦ä¸ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨Reactçš„ç¬¬ä¸‰æ–¹ç±»åº“è¿›è¡Œæ•´åˆï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ªReactæ²¡æœ‰åŸç”Ÿæ”¯æŒçš„æ“ä½œã€‚ä¸ºäº†ä½¿å¾—è¿™äº›æ“ä½œå˜å¾—å®¹æ˜“ï¼ŒReactæä¾›äº†ä¸€ä¸ªå¯ç”¨äºå¤„ç†å—å…¶è‡ªèº«æ§åˆ¶çš„DOMèŠ‚ç‚¹çš„æ–¹æ³•ã€‚ è®¿é—®å—æ§çš„DOMèŠ‚ç‚¹ é€šè¿‡ä¸ºå­ç»„ä»¶æ·»åŠ ä¸€ä¸ªrefâ€¦","html":"<h3>DOMæ“ä½œ</h3>\n<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸ºäº†å®ç°æŸäº›éœ€æ±‚å°±ä¸å¾—ä¸å»æ“ä½œåº•å±‚DOMï¼Œæœ€å¸¸è§çš„åœºæ™¯åŒ…æ‹¬ï¼šéœ€è¦ä¸ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨Reactçš„ç¬¬ä¸‰æ–¹ç±»åº“è¿›è¡Œæ•´åˆï¼Œæˆ–è€…æ‰§è¡Œä¸€ä¸ªReactæ²¡æœ‰åŸç”Ÿæ”¯æŒçš„æ“ä½œã€‚ä¸ºäº†ä½¿å¾—è¿™äº›æ“ä½œå˜å¾—å®¹æ˜“ï¼ŒReactæä¾›äº†ä¸€ä¸ªå¯ç”¨äºå¤„ç†å—å…¶è‡ªèº«æ§åˆ¶çš„DOMèŠ‚ç‚¹çš„æ–¹æ³•ã€‚</p>\n<h5>è®¿é—®å—æ§çš„DOMèŠ‚ç‚¹</h5>\n<p>é€šè¿‡ä¸ºå­ç»„ä»¶æ·»åŠ ä¸€ä¸ªrefå±æ€§ï¼Œæ¥å®ç°è®¿é—®è´Ÿè´£æ§åˆ¶è¿™äº›DOMçš„ç»„ä»¶ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> DooleArea <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>canvas ref<span class=\"token operator\">=</span><span class=\"token string\">\"mainCanvas\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>è¿™æ ·ï¼Œä½ å°±å¯ä»¥é€šè¿‡this.refs.mainCanvasè®¿é—®åˆ°canvasç»„ä»¶ã€‚ä½ å¿…é¡»ä¿è¯èµ‹äºˆæ¯ä¸ªå­ç»„ä»¶çš„refå€¼åœ¨æ‰€æœ‰å­ç»„ä»¶ä¸­æ˜¯å”¯ä¸€çš„ã€‚ä¸€æ—¦ä½ è®¿é—®åˆ°ä¸Šé¢çš„ç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡å®ƒçš„getDOMNode()æ–¹æ³•è®¿é—®åˆ°åº•å±‚çš„DOMèŠ‚ç‚¹ã€‚ä½†ä¸è®¸åœ¨renderæ–¹æ³•ä¸­è¿™æ ·åšï¼Œä½ éœ€è¦ç›´åˆ°ç»„ä»¶è¢«æŒ‚è½½ä½ æ‰èƒ½å»è°ƒç”¨getDOMNode()æ–¹æ³•â€”â€”æ­¤æ—¶ï¼ŒcomponentDidMountäº‹ä»¶å¤„ç†å™¨å°†ä¼šè¢«è§¦å‘ã€‚ä½†componentDidMountäº‹ä»¶å¤„ç†å™¨å†…éƒ¨ä¸æ˜¯getDOMNode()æ–¹æ³•å”¯ä¸€çš„æ‰§è¡Œç¯å¢ƒã€‚äº‹ä»¶å¤„ç†å™¨ä¹Ÿå¯ä»¥åœ¨ç»„ä»¶æŒ‚è½½åè§¦å‘ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­è°ƒç”¨getDOMNodeã€‚æ³¨æ„ï¼šè¯·åœ¨å¸¸è§„æŠ€æœ¯æ— æ³•å®Œæˆæ—¶è€ƒè™‘ä¸Šé¢çš„æ–¹æ³•ã€‚</p>\n<h5>æ•´åˆéReactç±»åº“</h5>\n<p>æœ‰å¾ˆå¤šå¥½ç”¨çš„JavaScriptç±»åº“å¹¶æ²¡æœ‰ä½¿ç”¨Reactæ„å»ºã€‚ä¸€äº›ç±»åº“ä¸éœ€è¦è®¿é—®DOMï¼ˆæ¯”å¦‚æ—¥æœŸå’Œæ—¶é—´æ“ä½œåº“ï¼‰ï¼Œä½†å¦‚æœéœ€è¦ä½¿ç”¨å®ƒä»¬ï¼Œä¿æŒå®ƒä»¬çš„çŠ¶æ€å’ŒReactçš„çŠ¶æ€ä¹‹é—´çš„åŒæ­¥æ˜¯æˆåŠŸæ•´åˆçš„å…³é”®ã€‚</p>\n<p>æ•´åˆå®ƒä»¬éœ€è¦æ·»åŠ componentDidMountäº‹ä»¶å¤„ç†å™¨ï¼Œå®ƒå¯ä»¥é€šè¿‡ref=â€œautocompleteTargetâ€çš„autocompleteTargetæŒ‡å‘å­ç»„ä»¶çš„åº•å±‚DOMèŠ‚ç‚¹æ¥è¿æ¥è¿™ä¸¤ä¸ªæ¥å£ã€‚</p>\n<h3>è¡¨å•</h3>\n<h5>æ— çº¦æŸçš„ç»„ä»¶</h5>\n<p>åœ¨HTMLä¸­ï¼Œè¡¨å•ç»„ä»¶ä¸Reactç»„ä»¶çš„è¡Œä¸ºä¸ä¸€è‡´ï¼Œç»™å®šHTMLçš„inputä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªinputçš„å€¼ä»ç„¶æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œè¿™æ­£æ˜¯æ— çº¦æŸç»„ä»¶åç§°çš„ç”±æ¥ï¼Œå› ä¸ºè¡¨å•ç»„ä»¶çš„å€¼æ˜¯ä¸å—Reactç»„ä»¶æ§åˆ¶çš„ã€‚ä¸€ä¸ªæ— çº¦æŸç»„ä»¶æ²¡æœ‰å¤ªå¤šç”¨å¤„ï¼Œæ­¤æ—¶éœ€è¦ç»™inputæ·»åŠ ä¸€ä¸ªrefå±æ€§ï¼Œä»¥è®¿é—®DOMèŠ‚ç‚¹çš„å€¼ã€‚</p>\n<p>refæ˜¯ä¸€ä¸ªä¸å±äºDOMå±æ€§çš„ç‰¹æ®Šå±æ€§ï¼Œç”¨æ¥æ ‡è®°DOMèŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡thisçš„ä¸Šä¸‹æ–‡è®¿é—®è¿™ä¸ªèŠ‚ç‚¹ï¼Œthis.refsã€‚</p>\n<p>æ— çº¦æŸç»„ä»¶å¯ä»¥ç”¨åœ¨åŸºæœ¬çš„æ— é¡»ä»»ä½•éªŒè¯æˆ–è€…è¾“å…¥æ§åˆ¶çš„è¡¨å•ä¸­ã€‚</p>\n<h5>çº¦æŸç»„ä»¶</h5>\n<p>çº¦æŸç»„ä»¶çš„æ¨¡å¼ä¸Reactå…¶ä»–ç±»å‹ç»„ä»¶çš„æ¨¡å¼ä¸€è‡´ã€‚è¡¨å•ç»„ä»¶çš„çŠ¶æ€äº¤ç”±Reactç»„ä»¶æ§åˆ¶ï¼ŒçŠ¶æ€å€¼è¢«å­˜å‚¨åœ¨Reactç»„ä»¶çš„stateä¸­ã€‚å¦‚æœæƒ³æ›´å¥½çš„æ§åˆ¶è¡¨å•ç»„ä»¶ï¼Œæ¨èä½¿ç”¨çº¦æŸç»„ä»¶ã€‚</p>\n<p>åœ¨çº¦æŸç»„ä»¶ä¸­è¾“å…¥æ¡†çš„å€¼æ˜¯ç”±çˆ¶ç»„ä»¶è®¾ç½®çš„ã€‚å¥½å¤„æ˜¯å¯ä»¥åœ¨ç”¨æˆ·è¾“å…¥æ•°æ®æ—¶æ›´æ–°stateã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> MyForm <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">creatClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">getInitialState</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\thello<span class=\"token punctuation\">,</span>world\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">submitHandler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\tevent<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>helloTo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">handleChange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\thelloTo<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>submitHandler<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>helloTo<span class=\"token punctuation\">}</span>\n\t\t\t\t\tonChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h5>è¡¨å•äº‹ä»¶</h5>\n<p>Reactæ”¯æŒæ‰€æœ‰HTMLäº‹ä»¶ã€‚è¿™äº›äº‹ä»¶éµå¾ªé©¼å³°å‘½åçš„çº¦å®šï¼Œä¸”ä¼šè¢«è½¬æˆåˆæˆäº‹ä»¶ã€‚æ‰€æœ‰åˆæˆäº‹ä»¶éƒ½æä¾›äº†event.targetæ¥è®¿é—®è§¦å‘äº‹ä»¶çš„DOMèŠ‚ç‚¹ã€‚</p>\n<p>åœ¨javascriptä¸­classå’Œforæ˜¯ä¿ç•™å­—ï¼Œæ‰€ä»¥åœ¨Reactä¸­ï¼Œä¸classå˜æˆäº†classNameç±»ä¼¼ï¼Œforå˜æˆhtmlForã€‚</p>\n<h5>æ–‡æœ¬æ¡†å’ŒSelect</h5>\n<p>Reactå¯¹textareaå’Œselectçš„æ¥å£åšäº†ä¸€äº›ä¿®æ”¹ï¼Œæå‡äº†ä¸€è‡´æ€§ã€‚textareaè¢«æ”¹çš„æ›´åƒinputäº†ï¼Œå…è®¸æˆ‘ä»¬è®¾ç½®valueå’ŒdefaultValueã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//éçº¦æŸçš„</span>\n<span class=\"token operator\">&lt;</span>textarea defaultValue<span class=\"token operator\">=</span><span class=\"token string\">\"Hello World\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token comment\">//çº¦æŸçš„</span>\n<span class=\"token operator\">&lt;</span>textarea value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>helloTo<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>selectç°åœ¨æ¥å—valueå’ŒdefaultValueæ¥è®¾ç½®å·²é€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“çš„å¯¹å®ƒçš„å€¼è¿›è¡Œæ“ä½œã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//éçº¦æŸçš„</span>\n<span class=\"token operator\">&lt;</span>select defaultValue<span class=\"token operator\">=</span><span class=\"token string\">\"B\"</span><span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"A\"</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"B\"</span><span class=\"token operator\">></span><span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"C\"</span><span class=\"token operator\">></span><span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>select<span class=\"token operator\">></span>\n<span class=\"token comment\">//çº¦æŸçš„</span>\n<span class=\"token operator\">&lt;</span>select value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>helloTo<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"A\"</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"B\"</span><span class=\"token operator\">></span><span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"C\"</span><span class=\"token operator\">></span><span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>select<span class=\"token operator\">></span></code></pre></div>\n<p>å½“ä½¿ç”¨å¯å¤šé€‰çš„selectæ—¶ï¼Œselectç»„ä»¶çš„å€¼åœ¨é€‰é¡¹è¢«é€‰æ‹©æ—¶ä¸ä¼šæ›´æ–°ï¼Œåªæœ‰é€‰é¡¹çš„selectedå±æ€§ä¼šå‘ç”Ÿå˜åŒ–ã€‚ä½ å¯ä»¥ä½¿ç”¨refæˆ–è€…syntheticEvent.targetæ¥è®¿é—®é€‰é¡¹ï¼Œæ£€æŸ¥ä»–ä»¬æ˜¯å¦è¢«é€‰ä¸­ã€‚</p>\n<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼ŒhandleChangeå¾ªç¯æ£€æŸ¥DOMï¼Œå¹¶è¿‡æ»¤å‡ºå“ªäº›é€‰é¡¹è¢«é€‰ä¸­äº†ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> MyForm <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">creatClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">getInitialState</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\toption<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">]</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">handleChange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">var</span> checked <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">var</span> sel <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> sel<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token keyword\">var</span> option <span class=\"token operator\">=</span> sel<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">.</span>selected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t\t\tchecked<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\toption<span class=\"token operator\">:</span> checked\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">submitHandler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\tevent<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>submitHandler<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>select multiple<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span> value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>options<span class=\"token punctuation\">}</span>\n\t\t\t\tonChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t\t\t\t\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"A\"</span><span class=\"token operator\">></span><span class=\"token number\">1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t\t\t\t\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"B\"</span><span class=\"token operator\">></span><span class=\"token number\">2</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t\t\t\t\t<span class=\"token operator\">&lt;</span>option value<span class=\"token operator\">=</span><span class=\"token string\">\"C\"</span><span class=\"token operator\">></span><span class=\"token number\">3</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>option<span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>select<span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span><span class=\"token operator\">></span>speak<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\t\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h5>å•é€‰æ¡†å’Œå¤é€‰æ¡†</h5>\n<p>å•é€‰æ¡†å’Œå¤é€‰æ¡†ä½¿ç”¨çš„åˆ™æ˜¯å¦å¤–ä¸€ç§å®Œå…¨ä¸åŒçš„æ§åˆ¶æ–¹å¼ã€‚</p>\n<p>åœ¨HTMLä¸­ï¼Œç±»å‹ä¸ºcheckboxæˆ–radioçš„inputä¸ç±»å‹ä¸ºtextçš„inputçš„è¡Œä¸ºå®Œå…¨ä¸ä¸€æ ·ã€‚é€šå¸¸ï¼Œå•é€‰æ¡†å’Œå¤é€‰æ¡†çš„å€¼æ˜¯ä¸å˜çš„ï¼Œåªæœ‰checkedçŠ¶æ€ä¼šå˜åŒ–ã€‚æ‰€ä»¥è¦æ§åˆ¶å•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œå°±è¦æ§åˆ¶ä»–ä»¬çš„checkedå±æ€§ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//éçº¦æŸçš„</span>\n<span class=\"token keyword\">var</span> MyForm <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">submitHandler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\tevent<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>refs<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">.</span><span class=\"token function\">getDOMNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>submitHandler<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>input ref<span class=\"token operator\">=</span><span class=\"token string\">\"checked\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"A\"</span> defaultChecked<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span><span class=\"token operator\">></span>speak<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\t\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//çº¦æŸçš„</span>\n<span class=\"token keyword\">var</span> MyForm <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token function-variable function\">getInitialState</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\tchecked<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">handleChange</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\tchecked<span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>checked\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">submitHandler</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\tevent<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token function-variable function\">render</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>submitHandler<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"A\"</span> checked<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>checked<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleChange<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\n\t\t\t\t<span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span><span class=\"token operator\">></span>speak<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n\t\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h5>è¡¨å•å…ƒç´ çš„nameå±æ€§</h5>\n<p>åœ¨Reactä¸­ï¼Œnameå±æ€§å¯¹äºè¡¨å•å…ƒç´ æ¥è¯´å¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ã€‚å› ä¸ºçº¦æŸè¡¨å•ç»„ä»¶å·²ç»æŠŠå€¼å­˜å‚¨åˆ°äº†stateä¸­ï¼Œå¹¶ä¸”è¡¨å•çš„æäº¤äº‹ä»¶ä¹Ÿä¼šè¢«æ‹¦æˆªã€‚åœ¨è·å–è¡¨å•å€¼çš„æ—¶å€™ï¼Œnameå±æ€§å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚å¯¹äºéçº¦æŸçš„è¡¨å•ç»„ä»¶æ¥è¯´ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨refsæ¥ç›´æ¥è®¿é—®è¡¨å•å…ƒç´ ã€‚è™½ç„¶å¦‚æ­¤ï¼Œnameä»ç„¶æ˜¯è¡¨å•ç»„ä»¶ä¸­éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<ul>\n<li>nameå±æ€§å¯ä»¥è®©ç¬¬ä¸‰æ–¹è¡¨å•åºåˆ—åŒ–ç±»åº“åœ¨Reactä¸­æ­£å¸¸å·¥ä½œã€‚</li>\n<li>å¯¹äºä»»ç„¶ä½¿ç”¨ä¼ ç»Ÿæäº¤æ–¹å¼çš„è¡¨å•æ¥è¯´ï¼Œnameå±æ€§æ˜¯å¿…éœ€çš„ã€‚</li>\n<li>åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ï¼Œnameè¢«ç”¨åœ¨è‡ªåŠ¨å¡«å†™å¸¸ç”¨ä¿¡æ¯ä¸­ï¼Œæ¯”å¦‚ç”¨æˆ·åœ°å€ç­‰ã€‚</li>\n<li>å¯¹äºéçº¦æŸçš„å•é€‰æ¡†ç»„ä»¶æ¥è®²ï¼Œnameæ˜¯æœ‰å¿…è¦å¾—ï¼Œå®ƒå¯ä½œä¸ºè¿™äº›ç»„ä»¶åˆ†ç»„çš„ä¾æ®ã€‚ç¡®ä¿åœ¨åŒä¸€æ—¶åˆ»ï¼ŒåŒä¸€è¡¨å•ä¸­æ‹¥æœ‰åŒæ ·nameçš„å•é€‰æ¡†åªæœ‰ä¸€ä¸ªå¯ä»¥è¢«é€‰ä¸­ã€‚å¦‚æœä¸ä½¿ç”¨nameå±æ€§ï¼Œè¿™ä¸€è¡Œä¸ºå¯ä»¥ä½¿ç”¨çº¦æŸçš„å•é€‰æ¡†å®ç°ã€‚</li>\n</ul>\n<h5>Focus</h5>\n<p>å› ä¸ºReactçš„è¡¨å•å¹¶ä¸æ€»æ˜¯åœ¨æµè§ˆå™¨åŠ è½½æ—¶è¢«æ¸²æŸ“çš„ï¼Œæ‰€ä»¥è¡¨å•çš„è¾“å…¥åŸŸçš„è‡ªåŠ¨èšç„¦æ“ä½œèµ·æ¥æœ‰ç‚¹ä¸ä¸€æ ·ã€‚Reactå®ç°äº†autoFocuså±æ€§ï¼Œå› æ­¤åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æŒ‚è½½æ—¶ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çš„è¡¨å•åŸŸèšç„¦æ—¶ï¼ŒReactå°±ä¼šæŠŠç„¦ç‚¹æ”¾åœ¨è¿™ä¸ªç»„ä»¶å¯¹åº”çš„è¡¨å•åŸŸä¸­ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"given_name\"</span> autoFocus<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>è¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯è°ƒç”¨DOCNodeçš„focus()æ–¹æ³•ï¼Œæ‰‹åŠ¨è®¾ç½®è¡¨å•åŸŸèšç„¦ã€‚</p>","frontmatter":{"title":"React å­¦ä¹ ç¬”è®°(3)","date":"November 20, 2015"},"fields":{"slug":"/2015-11-20-learn-react-3/"}}},"pageContext":{"slug":"/2015-11-20-learn-react-3/","previous":{"fields":{"slug":"/2015-10-18-crayon-by-css/"},"frontmatter":{"title":"ç”¨CSSç”»æ”¯èœ¡ç¬”","tags":null}},"next":{"fields":{"slug":"/2015-11-22-learn-react-4/"},"frontmatter":{"title":"React å­¦ä¹ ç¬”è®°(4)","tags":null}}}}}